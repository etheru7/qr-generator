<!DOCTYPE html>
<html>
  <head>
    <title>QR Code Generator</title>
    <style>
      #qr-panel {
        width: 300px;
        height: 300px;
      }
    </style>
  </head>
  <body>
    <div id="qr-panel"></div>
    <input id="qr-input" type="text" placeholder="Masukkan URL atau teks yang ingin di-QR-kan" />
    <button id="qr-btn">Generate QR Code</button>
    <script src="https://unpkg.com/qrious@4.0.2/dist/qrious.min.js"></script>
    <script>
      // menampilkan QR code pertama
      let qrPanel = document.querySelector('#qr-panel');
      let qr = new QRious({
        element: qrPanel,
        value: 'https://hanung.space',
        size: 300,
        mime: 'image/png',
      });

      // mengubah QR code saat tombol diklik
      let qrBtn = document.querySelector('#qr-btn');
      qrBtn.addEventListener('click', function () {
        let qrInput = document.querySelector('#qr-input').value;
        new QRious({
          element: qrPanel,
          value: qrInput,
          size: 300,
          mime: 'image/png',
        });
      });

      // menambahkan tombol download
      let downloadBtn = document.createElement('button');
      downloadBtn.innerHTML = 'Download QR Code';
      qrPanel.appendChild(downloadBtn);

      // mengunduh QR code saat tombol download diklik
      downloadBtn.addEventListener('click', function () {
        let canvas = qrPanel.querySelector('canvas');
        let link = document.createElement('a');
        link.download = 'qr-code.png';
        link.href = canvas.toDataURL('image/png');
        link.click();
      });
    </script>
  </body>
</html>